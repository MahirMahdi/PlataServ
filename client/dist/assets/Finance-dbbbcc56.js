import{r as o,j as t,d as n}from"./index-94eab420.js";import{c as z}from"./Sidebar-a2170b0b.js";import{v as g}from"./Logo-0c179a24.js";import{S as b,I as S,F as M,L as G,R as B,m as h}from"./moment-e3624afe.js";import{a as s}from"./api-5c20e404.js";import{B as l}from"./chunk-6CSUKJP7-90322ddf.js";import{I as C}from"./chunk-GYFRIY2Z-fa84db3d.js";import{T as q}from"./chunk-P74GIWPW-2e89ab56.js";import"./chunk-NAA7TEES-e6707657.js";import"./index.esm-e2511e47.js";function te(){const[c,k]=o.useState("Monthly"),[m,T]=o.useState("Monthly"),[D,y]=o.useState("month"),[v,w]=o.useState("month"),[i,R]=o.useState(new Date),[u,x]=o.useState(new Date),[F,d]=o.useState([]),[I,f]=o.useState(),[r,P]=o.useState(),W=async()=>{const e=await s.post("/report/cash",{type:"monthly",month:i});d(e.data.reports)},O=async()=>{const e=await s.post("/chart/bank-info",{type:"monthly",month:i});f(e.data.reports)},_=async()=>{const e=await s.get("/recent/sale");P(e.data.recent)};return o.useEffect(()=>{W(),O(),_()},[]),t(l,{display:"flex",w:"100vw",h:"100vh",children:n(l,{w:{base:"100vw",lg:"85vw"},padding:{base:"0 1rem",sm:"0 1.5rem",md:"0 1.75rem",lg:"1.5rem 2rem"},ml:{lg:"17.5vw",xl:"15vw"},minH:"100vh",children:[t(z,{}),n(l,{mt:"1rem",display:"grid",rowGap:"1rem",children:[n(l,{display:"flex",alignItems:"center",columnGap:"1rem",children:[n(b,{placeholder:"Select filter type",size:"sm",type:"month",borderRadius:"5px",onChange:e=>{const a=e.target.value;k(a),y(a==="Daily"?"date":a==="Weekly"?"week":"month")},defaultValue:c,w:"10rem",children:[t("option",{value:"Daily",children:"Daily"}),t("option",{value:"Weekly",children:"Weekly"}),t("option",{value:"Monthly",children:"Monthly"})]}),t(C,{placeholder:"Select Date and Time",size:"sm",onChange:e=>{R(e.target.value)},type:D,borderRadius:"5px",w:"10rem",cursor:"pointer"}),t(S,{size:"sm","aria-label":"Search database",icon:t(g,{}),bgColor:"#323130",color:"white",onClick:async()=>{if(c==="Daily"){const e=await s.post("/report/cash",{type:"daily",date:i});d(e.data.reports)}else if(c==="Weekly"){const e=new Date(h(i).startOf("week").toDate()).toISOString(),a=new Date(h(i).endOf("week").toDate()).toISOString();console.log(e,a);const p=await s.post("/report/cash",{type:"weekly",start_date:e,end_date:a});console.log(p),d(p.data.reports)}else{const e=await s.post("/report/cash",{type:"monthly",month:i});d(e.data.reports)}}})]}),n(q,{padding:{base:"1rem 0",sm:"0"},fontFamily:"'Poppins', sans-serif",fontSize:"1.15rem",fontWeight:"semibold",children:[c," Report"]}),t(M,{reports:F}),n(l,{mt:"1rem",w:"100%",display:{base:"grid",lg:"flex"},alignItems:"center",columnGap:"1.5rem",rowGap:"1.5rem",children:[n(l,{w:{base:"100%",lg:"60%"},h:"fit-content",display:"grid",rowGap:"1.5rem",children:[n(l,{display:"flex",alignItems:"center",columnGap:"1rem",children:[n(b,{placeholder:"Select filter type",size:"sm",type:"month",borderRadius:"5px",onChange:e=>{const a=e.target.value;T(a),w(a==="Weekly"?"week":"month")},defaultValue:m,w:"10rem",children:[t("option",{value:"Weekly",children:"Weekly"}),t("option",{value:"Monthly",children:"Monthly"})]}),t(C,{placeholder:"Select Period",size:"sm",type:v,onChange:e=>{x(e.target.value)},borderRadius:"5px",w:"10rem",cursor:"pointer"}),t(S,{size:"sm","aria-label":"Search database",icon:t(g,{}),bgColor:"#323130",color:"white",onClick:async()=>{if(m==="Weekly"){const e=new Date(h(u).startOf("week").toDate()).toISOString(),a=new Date(h(u).endOf("week").toDate()).toISOString();console.log(e,a);const p=await s.post("/chart/bank-info",{type:"weekly",start_date:e,end_date:a});console.log(p),f(p.data.reports)}else{const e=await s.post("/chart/bank-info",{type:"monthly",month:u});f(e.data.reports)}}})]}),t(G,{title:m,reports:I,label:"Baking Information"})]}),t(l,{w:{base:"100%",lg:"40%"},h:"min-content",children:t(B,{type:"finance",transaction_type:r==null?void 0:r.transaction_type,total_amount:r==null?void 0:r.total_amount,date:r==null?void 0:r.date})})]})]})]})})}export{te as default};
