import{j as S,r as g}from"./index-94eab420.js";const u=g.createContext();function f({children:d}){const c=(e,o,t)=>{const s=o?(t-t*.1).toFixed(2):t,r=JSON.parse(localStorage.getItem("orders"));let a;r?r[e]?a={...r,[e]:r[e]+1}:a={...r,[e]:1}:a={[e]:1},localStorage.setItem("orders",JSON.stringify(a)),l("add",Number(s))},n=e=>{const o=JSON.parse(localStorage.getItem("orders"));delete o[e],localStorage.setItem("orders",JSON.stringify(o))},m=(e,o,t)=>{const s=o?(t-t*.1).toFixed(2):t,r=JSON.parse(localStorage.getItem("orders"));r[e]===1?n(e):localStorage.setItem("orders",JSON.stringify({...r,[e]:r[e]-1})),Object.keys(JSON.parse(localStorage.getItem("orders"))).length===0&&localStorage.removeItem("orders"),l("remove",Number(s))},l=(e,o)=>{const t=parseFloat(localStorage.getItem("subtotal"));let s;e==="add"&&t?s=(t+o).toFixed(2):e==="add"&&!t?s=o:s=(t-o).toFixed(2),localStorage.setItem("subtotal",s)};return S(u.Provider,{value:{add:c,remove:m},children:d})}export{u as POSContext,f as default};
