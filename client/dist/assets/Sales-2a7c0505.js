import{r as s,j as t,d as r}from"./index-94eab420.js";import{c as $}from"./Sidebar-a2170b0b.js";import{v as T}from"./Logo-0c179a24.js";import{S as v,I as C,b as ee,P as te,R as ae,c as se,m as i}from"./moment-e3624afe.js";import{a as o}from"./api-5c20e404.js";import{B as n}from"./chunk-6CSUKJP7-90322ddf.js";import{I as k}from"./chunk-GYFRIY2Z-fa84db3d.js";import{T as R}from"./chunk-P74GIWPW-2e89ab56.js";import"./chunk-NAA7TEES-e6707657.js";import"./index.esm-e2511e47.js";function me(){const[h,x]=s.useState("Monthly"),[m,I]=s.useState("Monthly"),[S,P]=s.useState("Monthly"),[W,b]=s.useState("month"),[O,g]=s.useState("month"),[z,D]=s.useState("month"),[p,F]=s.useState(new Date),[d,M]=s.useState(new Date),[c,_]=s.useState(new Date),[G,u]=s.useState([]),[q,f]=s.useState([]),[j,w]=s.useState([]),[l,B]=s.useState(),V=async()=>{const e=await o.post("/report/sales-details",{type:"monthly",month:p});u(e.data.reports)},E=async()=>{const e=await o.post("/chart/sales",{type:"monthly",month:c});f(e.data.reports)},H=async()=>{const e=await o.post("/report/speed-of-service",{type:"monthly",month:d});w(e.data.reports)},A=async()=>{const e=await o.get("/recent/sale");B(e.data.recent)};s.useEffect(()=>{V(),E(),H(),A()},[]);const J=e=>{const a=e.target.value;x(a),b(a==="Daily"?"date":a==="Weekly"?"week":"month")},K=e=>{const a=e.target.value;P(a),D(a==="Daily"?"date":a==="Weekly"?"week":"month")},L=e=>{const a=e.target.value;I(a),g(a==="Daily"?"date":a==="Weekly"?"week":"month")},N=e=>{F(e.target.value)},Q=e=>{_(e.target.value)},U=e=>{M(e.target.value)},X=async()=>{if(h==="Daily"){const e=await o.post("/report/sales-details",{type:"daily",date:p});u(e.data.reports)}else if(h==="Weekly"){const e=new Date(i(p).startOf("week").toDate()).toISOString(),a=new Date(i(p).endOf("week").toDate()).toISOString(),y=await o.post("/report/sales-details",{type:"weekly",start_date:e,end_date:a});u(y.data.reports)}else{const e=await o.post("/report/sales-details",{type:"monthly",month:p});u(e.data.reports)}},Y=async()=>{if(S==="Daily"){const e=await o.post("/chart/sales",{type:"daily",date:c});f(e.data.reports)}else if(S==="Weekly"){const e=new Date(i(c).startOf("week").toDate()).toISOString(),a=new Date(i(c).endOf("week").toDate()).toISOString(),y=await o.post("/chart/sales",{type:"weekly",start_date:e,end_date:a});f(y.data.reports)}else{const e=await o.post("/chart/sales",{type:"monthly",month:c});f(e.data.reports)}},Z=async()=>{if(m==="Daily"){const e=await o.post("/report/speed-of-service",{type:"daily",date:d});w(e.data.reports)}else if(m==="Weekly"){const e=new Date(i(d).startOf("week").toDate()).toISOString(),a=new Date(i(d).endOf("week").toDate()).toISOString(),y=await o.post("/report/speed-of-service",{type:"weekly",start_date:e,end_date:a});w(y.data.reports)}else{const e=await o.post("/report/speed-of-service",{type:"monthly",month:d});w(e.data.reports)}};return t(n,{display:"flex",w:"100vw",h:"100vh",children:r(n,{w:{base:"100vw",lg:"85vw"},padding:{base:"0 1rem",sm:"0 1.5rem",md:"0 1.75rem",lg:"1.5rem 2rem"},ml:{lg:"17.5vw",xl:"15vw"},minH:"100vh",children:[t($,{}),r(n,{mt:"1rem",display:"grid",rowGap:"1rem",children:[r(n,{display:"flex",alignItems:"center",columnGap:"1rem",children:[r(v,{placeholder:"Select filter type",size:"sm",type:"month",borderRadius:"5px",onChange:J,defaultValue:h,w:"10rem",children:[t("option",{value:"Daily",children:"Daily"}),t("option",{value:"Weekly",children:"Weekly"}),t("option",{value:"Monthly",children:"Monthly"})]}),t(k,{placeholder:"Select Date and Time",size:"sm",onChange:N,type:W,borderRadius:"5px",w:"10rem",cursor:"pointer"}),t(C,{size:"sm","aria-label":"Search database",icon:t(T,{}),bgColor:"#323130",color:"white",onClick:X})]}),r(R,{padding:{base:"1rem 0",sm:"0"},fontFamily:"'Poppins', sans-serif",fontSize:"1.15rem",fontWeight:"semibold",children:[h," Report"]}),t(ee,{reports:G}),r(n,{mt:"1rem",w:"100%",display:{base:"grid",lg:"flex"},alignItems:"center",justifyContent:"space-between",columnGap:"1.5rem",rowGap:"1.5rem",children:[r(n,{w:{base:"100%",lg:"35%"},h:"fit-content",display:"grid",rowGap:"1.5rem",children:[r(n,{display:"flex",alignItems:"center",columnGap:"1rem",children:[r(v,{placeholder:"Select filter type",size:"sm",type:"month",borderRadius:"5px",onChange:K,defaultValue:S,w:"10rem",children:[t("option",{value:"Daily",children:"Daily"}),t("option",{value:"Weekly",children:"Weekly"}),t("option",{value:"Monthly",children:"Monthly"})]}),t(k,{placeholder:"Select Period",size:"sm",onChange:Q,type:z,borderRadius:"5px",w:"10rem",cursor:"pointer"}),t(C,{size:"sm","aria-label":"Search database",icon:t(T,{}),onClick:Y,bgColor:"#323130",color:"white"})]}),t(te,{reports:q})]}),t(n,{w:{base:"100%",lg:"40%"},h:"min-content",children:t(ae,{type:"sales",total_amount:l==null?void 0:l.total_amount,total_quantity:l==null?void 0:l.total_quantity,date:l==null?void 0:l.date})})]}),r(n,{display:"flex",alignItems:"center",columnGap:"1rem",children:[r(v,{placeholder:"Select filter type",size:"sm",type:"month",borderRadius:"5px",onChange:L,defaultValue:m,w:"10rem",children:[t("option",{value:"Daily",children:"Daily"}),t("option",{value:"Weekly",children:"Weekly"}),t("option",{value:"Monthly",children:"Monthly"})]}),t(k,{placeholder:"Select Date and Time",size:"sm",onChange:U,type:O,borderRadius:"5px",w:"10rem",cursor:"pointer"}),t(C,{size:"sm","aria-label":"Search database",icon:t(T,{}),bgColor:"#323130",color:"white",onClick:Z})]}),r(R,{padding:{base:"1rem 0",sm:"0"},fontFamily:"'Poppins', sans-serif",fontSize:"1.15rem",fontWeight:"semibold",children:[m," Report"]}),t(se,{reports:j})]})]})})}export{me as default};
